{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __await = this && this.__await || function (v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n};\n\nvar __asyncGenerator = this && this.__asyncGenerator || function (thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n};\n\nvar __asyncValues = this && this.__asyncValues || function (o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getNews = exports.Sort = exports.getCryptoSnapshots = exports.getCryptoSnapshot = exports.getLatestCryptoXBBOs = exports.getLatestCryptoXBBO = exports.getLatestCryptoQuotes = exports.getLatestCryptoQuote = exports.getLatestCryptoTrades = exports.getLatestCryptoTrade = exports.getLatestCryptoBars = exports.getLatestCryptoBar = exports.getCryptoBars = exports.getCryptoQuotes = exports.getCryptoTrades = exports.getSnapshots = exports.getSnapshot = exports.getLatestBars = exports.getLatestBar = exports.getLatestQuotes = exports.getLatestQuote = exports.getLatestTrades = exports.getLatestTrade = exports.getMultiBarsAsync = exports.getMultiBars = exports.getBars = exports.getMultiQuotesAsync = exports.getMultiQuotes = exports.getQuotes = exports.getMultiTradesAsync = exports.getMultiTrades = exports.getTrades = exports.getMultiDataV2 = exports.getDataV2 = exports.dataV2HttpRequest = exports.TYPE = exports.Adjustment = void 0;\n\nconst axios_1 = __importDefault(require(\"axios\"));\n\nconst entityv2_1 = require(\"./entityv2\"); // Number of data points to return.\n\n\nconst V2_MAX_LIMIT = 10000;\nconst V2_NEWS_MAX_LIMIT = 50;\nvar Adjustment;\n\n(function (Adjustment) {\n  Adjustment[\"RAW\"] = \"raw\";\n  Adjustment[\"DIVIDEND\"] = \"dividend\";\n  Adjustment[\"SPLIT\"] = \"split\";\n  Adjustment[\"ALL\"] = \"all\";\n})(Adjustment = exports.Adjustment || (exports.Adjustment = {}));\n\nvar TYPE;\n\n(function (TYPE) {\n  TYPE[\"TRADES\"] = \"trades\";\n  TYPE[\"QUOTES\"] = \"quotes\";\n  TYPE[\"BARS\"] = \"bars\";\n})(TYPE = exports.TYPE || (exports.TYPE = {}));\n\nfunction dataV2HttpRequest(url, queryParams, config) {\n  const {\n    dataBaseUrl,\n    keyId,\n    secretKey,\n    oauth\n  } = config;\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    \"Accept-Encoding\": \"gzip\"\n  };\n\n  if (oauth == \"\") {\n    headers[\"APCA-API-KEY-ID\"] = keyId;\n    headers[\"APCA-API-SECRET-KEY\"] = secretKey;\n  } else {\n    headers[\"Authorization\"] = \"Bearer \" + oauth;\n  }\n\n  return axios_1.default.get(`${dataBaseUrl}${url}`, {\n    params: queryParams,\n    headers: headers\n  }).catch(err => {\n    throw new Error(`code: ${err.response.status}, message: ${err.response.data.message}`);\n  });\n}\n\nexports.dataV2HttpRequest = dataV2HttpRequest;\n\nfunction getQueryLimit(totalLimit, pageLimit, received) {\n  let limit = 0;\n\n  if (pageLimit !== 0) {\n    limit = pageLimit;\n  }\n\n  if (totalLimit !== 0) {\n    const remaining = totalLimit - received;\n\n    if (remaining <= 0) {\n      // this should never happen\n      return -1;\n    }\n\n    if (limit == 0 || limit > remaining) {\n      limit = remaining;\n    }\n  }\n\n  return limit;\n}\n\nfunction getDataV2(endpoint, path, options, config) {\n  var _a;\n\n  return __asyncGenerator(this, arguments, function* getDataV2_1() {\n    let pageToken = null;\n    let received = 0;\n    const pageLimit = options.pageLimit ? Math.min(options.pageLimit, V2_MAX_LIMIT) : V2_MAX_LIMIT;\n    delete options.pageLimit;\n    options.limit = (_a = options.limit) !== null && _a !== void 0 ? _a : 0;\n\n    while (options.limit > received || options.limit === 0) {\n      let limit;\n\n      if (options.limit !== 0) {\n        limit = getQueryLimit(options.limit, pageLimit, received);\n\n        if (limit == -1) {\n          break;\n        }\n      } else {\n        limit = null;\n      }\n\n      const resp = yield __await(dataV2HttpRequest(path, Object.assign(Object.assign({}, options), {\n        limit,\n        page_token: pageToken\n      }), config));\n      const items = resp.data[endpoint] || [];\n\n      for (const item of items) {\n        yield yield __await(item);\n      }\n\n      received += items.length;\n      pageToken = resp.data.next_page_token;\n\n      if (!pageToken) {\n        break;\n      }\n    }\n  });\n}\n\nexports.getDataV2 = getDataV2;\n\nfunction getMultiDataV2(symbols, endpoint, options, config) {\n  var _a;\n\n  return __asyncGenerator(this, arguments, function* getMultiDataV2_1() {\n    let pageToken = null;\n    let received = 0;\n    const pageLimit = options.pageLimit ? Math.min(options.pageLimit, V2_MAX_LIMIT) : V2_MAX_LIMIT;\n    delete options.pageLimit;\n    options.limit = (_a = options.limit) !== null && _a !== void 0 ? _a : 0;\n\n    while (options.limit > received || options.limit === 0) {\n      let limit;\n\n      if (options.limit !== 0) {\n        limit = getQueryLimit(options.limit, pageLimit, received);\n\n        if (limit == -1) {\n          break;\n        }\n      } else {\n        limit = null;\n      }\n\n      const params = Object.assign(Object.assign({}, options), {\n        symbols: symbols.join(\",\"),\n        limit: limit,\n        page_token: pageToken\n      });\n      const resp = yield __await(dataV2HttpRequest(`/v2/stocks/${endpoint}`, params, config));\n      const items = resp.data[endpoint];\n\n      for (const symbol in items) {\n        for (const data of items[symbol]) {\n          received++;\n          yield yield __await({\n            symbol: symbol,\n            data: data\n          });\n        }\n      }\n\n      pageToken = resp.data.next_page_token;\n\n      if (!pageToken) {\n        break;\n      }\n    }\n  });\n}\n\nexports.getMultiDataV2 = getMultiDataV2;\n\nfunction getTrades(symbol, options, config) {\n  return __asyncGenerator(this, arguments, function* getTrades_1() {\n    var e_1, _a;\n\n    const trades = getDataV2(TYPE.TRADES, `/v2/stocks/${symbol}/${TYPE.TRADES}`, options, config);\n\n    try {\n      for (var trades_1 = __asyncValues(trades), trades_1_1; trades_1_1 = yield __await(trades_1.next()), !trades_1_1.done;) {\n        const trade = trades_1_1.value;\n        yield yield __await((0, entityv2_1.AlpacaTradeV2)(trade));\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (trades_1_1 && !trades_1_1.done && (_a = trades_1.return)) yield __await(_a.call(trades_1));\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  });\n}\n\nexports.getTrades = getTrades;\n\nfunction getMultiTrades(symbols, options, config) {\n  var e_2, _a;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    const multiTrades = getMultiTradesAsync(symbols, options, config);\n    const trades = new Map();\n\n    try {\n      for (var multiTrades_1 = __asyncValues(multiTrades), multiTrades_1_1; multiTrades_1_1 = yield multiTrades_1.next(), !multiTrades_1_1.done;) {\n        const t = multiTrades_1_1.value;\n        const items = trades.get(t.Symbol) || new Array();\n        trades.set(t.Symbol, [...items, t]);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (multiTrades_1_1 && !multiTrades_1_1.done && (_a = multiTrades_1.return)) yield _a.call(multiTrades_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return trades;\n  });\n}\n\nexports.getMultiTrades = getMultiTrades;\n\nfunction getMultiTradesAsync(symbols, options, config) {\n  return __asyncGenerator(this, arguments, function* getMultiTradesAsync_1() {\n    var e_3, _a;\n\n    const multiTrades = getMultiDataV2(symbols, TYPE.TRADES, options, config);\n\n    try {\n      for (var multiTrades_2 = __asyncValues(multiTrades), multiTrades_2_1; multiTrades_2_1 = yield __await(multiTrades_2.next()), !multiTrades_2_1.done;) {\n        const t = multiTrades_2_1.value;\n        t.data = Object.assign(Object.assign({}, t.data), {\n          S: t.symbol\n        });\n        yield yield __await((0, entityv2_1.AlpacaTradeV2)(t.data));\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (multiTrades_2_1 && !multiTrades_2_1.done && (_a = multiTrades_2.return)) yield __await(_a.call(multiTrades_2));\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n  });\n}\n\nexports.getMultiTradesAsync = getMultiTradesAsync;\n\nfunction getQuotes(symbol, options, config) {\n  return __asyncGenerator(this, arguments, function* getQuotes_1() {\n    var e_4, _a;\n\n    const quotes = getDataV2(TYPE.QUOTES, `/v2/stocks/${symbol}/${TYPE.QUOTES}`, options, config);\n\n    try {\n      for (var quotes_1 = __asyncValues(quotes), quotes_1_1; quotes_1_1 = yield __await(quotes_1.next()), !quotes_1_1.done;) {\n        const quote = quotes_1_1.value;\n        yield yield __await((0, entityv2_1.AlpacaQuoteV2)(quote));\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (quotes_1_1 && !quotes_1_1.done && (_a = quotes_1.return)) yield __await(_a.call(quotes_1));\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n  });\n}\n\nexports.getQuotes = getQuotes;\n\nfunction getMultiQuotes(symbols, options, config) {\n  var e_5, _a;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    const multiQuotes = getMultiQuotesAsync(symbols, options, config);\n    const quotes = new Map();\n\n    try {\n      for (var multiQuotes_1 = __asyncValues(multiQuotes), multiQuotes_1_1; multiQuotes_1_1 = yield multiQuotes_1.next(), !multiQuotes_1_1.done;) {\n        const q = multiQuotes_1_1.value;\n        const items = quotes.get(q.Symbol) || new Array();\n        quotes.set(q.Symbol, [...items, q]);\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (multiQuotes_1_1 && !multiQuotes_1_1.done && (_a = multiQuotes_1.return)) yield _a.call(multiQuotes_1);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n\n    return quotes;\n  });\n}\n\nexports.getMultiQuotes = getMultiQuotes;\n\nfunction getMultiQuotesAsync(symbols, options, config) {\n  return __asyncGenerator(this, arguments, function* getMultiQuotesAsync_1() {\n    var e_6, _a;\n\n    const multiQuotes = getMultiDataV2(symbols, TYPE.QUOTES, options, config);\n\n    try {\n      for (var multiQuotes_2 = __asyncValues(multiQuotes), multiQuotes_2_1; multiQuotes_2_1 = yield __await(multiQuotes_2.next()), !multiQuotes_2_1.done;) {\n        const q = multiQuotes_2_1.value;\n        q.data = Object.assign(Object.assign({}, q.data), {\n          S: q.symbol\n        });\n        yield yield __await((0, entityv2_1.AlpacaQuoteV2)(q.data));\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (multiQuotes_2_1 && !multiQuotes_2_1.done && (_a = multiQuotes_2.return)) yield __await(_a.call(multiQuotes_2));\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n  });\n}\n\nexports.getMultiQuotesAsync = getMultiQuotesAsync;\n\nfunction getBars(symbol, options, config) {\n  return __asyncGenerator(this, arguments, function* getBars_1() {\n    var e_7, _a;\n\n    const bars = getDataV2(TYPE.BARS, `/v2/stocks/${symbol}/${TYPE.BARS}`, options, config);\n\n    try {\n      for (var _b = __asyncValues(bars || []), _c; _c = yield __await(_b.next()), !_c.done;) {\n        const bar = _c.value;\n        yield yield __await((0, entityv2_1.AlpacaBarV2)(bar));\n      }\n    } catch (e_7_1) {\n      e_7 = {\n        error: e_7_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) yield __await(_a.call(_b));\n      } finally {\n        if (e_7) throw e_7.error;\n      }\n    }\n  });\n}\n\nexports.getBars = getBars;\n\nfunction getMultiBars(symbols, options, config) {\n  var e_8, _a;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    const multiBars = getMultiBarsAsync(symbols, options, config);\n    const bars = new Map();\n\n    try {\n      for (var multiBars_1 = __asyncValues(multiBars), multiBars_1_1; multiBars_1_1 = yield multiBars_1.next(), !multiBars_1_1.done;) {\n        const b = multiBars_1_1.value;\n        const items = bars.get(b.Symbol) || new Array();\n        bars.set(b.Symbol, [...items, b]);\n      }\n    } catch (e_8_1) {\n      e_8 = {\n        error: e_8_1\n      };\n    } finally {\n      try {\n        if (multiBars_1_1 && !multiBars_1_1.done && (_a = multiBars_1.return)) yield _a.call(multiBars_1);\n      } finally {\n        if (e_8) throw e_8.error;\n      }\n    }\n\n    return bars;\n  });\n}\n\nexports.getMultiBars = getMultiBars;\n\nfunction getMultiBarsAsync(symbols, options, config) {\n  return __asyncGenerator(this, arguments, function* getMultiBarsAsync_1() {\n    var e_9, _a;\n\n    const multiBars = getMultiDataV2(symbols, TYPE.BARS, options, config);\n\n    try {\n      for (var multiBars_2 = __asyncValues(multiBars), multiBars_2_1; multiBars_2_1 = yield __await(multiBars_2.next()), !multiBars_2_1.done;) {\n        const b = multiBars_2_1.value;\n        b.data = Object.assign(Object.assign({}, b.data), {\n          S: b.symbol\n        });\n        yield yield __await((0, entityv2_1.AlpacaBarV2)(b.data));\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (multiBars_2_1 && !multiBars_2_1.done && (_a = multiBars_2.return)) yield __await(_a.call(multiBars_2));\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n  });\n}\n\nexports.getMultiBarsAsync = getMultiBarsAsync;\n\nfunction getLatestTrade(symbol, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v2/stocks/${symbol}/trades/latest`, {}, config);\n    return (0, entityv2_1.AlpacaTradeV2)(resp.data.trade);\n  });\n}\n\nexports.getLatestTrade = getLatestTrade;\n\nfunction getLatestTrades(symbols, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v2/stocks/${TYPE.TRADES}/latest`, {\n      symbols: symbols.join(\",\")\n    }, config);\n    const multiLatestTrades = resp.data.trades;\n    const multiLatestTradesResp = new Map();\n\n    for (const symbol in multiLatestTrades) {\n      multiLatestTradesResp.set(symbol, (0, entityv2_1.AlpacaTradeV2)(Object.assign({\n        S: symbol\n      }, multiLatestTrades[symbol])));\n    }\n\n    return multiLatestTradesResp;\n  });\n}\n\nexports.getLatestTrades = getLatestTrades;\n\nfunction getLatestQuote(symbol, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v2/stocks/${symbol}/quotes/latest`, {}, config);\n    return (0, entityv2_1.AlpacaQuoteV2)(resp.data.quote);\n  });\n}\n\nexports.getLatestQuote = getLatestQuote;\n\nfunction getLatestQuotes(symbols, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v2/stocks/${TYPE.QUOTES}/latest`, {\n      symbols: symbols.join(\",\")\n    }, config);\n    const multiLatestQuotes = resp.data.quotes;\n    const multiLatestQuotesResp = new Map();\n\n    for (const symbol in multiLatestQuotes) {\n      multiLatestQuotesResp.set(symbol, (0, entityv2_1.AlpacaQuoteV2)(Object.assign({\n        S: symbol\n      }, multiLatestQuotes[symbol])));\n    }\n\n    return multiLatestQuotesResp;\n  });\n}\n\nexports.getLatestQuotes = getLatestQuotes;\n\nfunction getLatestBar(symbol, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v2/stocks/${symbol}/bars/latest`, {}, config);\n    return (0, entityv2_1.AlpacaBarV2)(resp.data.bar);\n  });\n}\n\nexports.getLatestBar = getLatestBar;\n\nfunction getLatestBars(symbols, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v2/stocks/${TYPE.BARS}/latest`, {\n      symbols: symbols.join(\",\")\n    }, config);\n    const multiLatestBars = resp.data.bars;\n    const multiLatestBarsResp = new Map();\n\n    for (const symbol in multiLatestBars) {\n      multiLatestBarsResp.set(symbol, (0, entityv2_1.AlpacaBarV2)(Object.assign({\n        S: symbol\n      }, multiLatestBars[symbol])));\n    }\n\n    return multiLatestBarsResp;\n  });\n}\n\nexports.getLatestBars = getLatestBars;\n\nfunction getSnapshot(symbol, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v2/stocks/${symbol}/snapshot`, {}, config);\n    return (0, entityv2_1.AlpacaSnapshotV2)(resp.data);\n  });\n}\n\nexports.getSnapshot = getSnapshot;\n\nfunction getSnapshots(symbols, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v2/stocks/snapshots?symbols=${symbols.join(\",\")}`, {}, config);\n    const result = Object.entries(resp.data).map(_ref => {\n      let [key, val] = _ref;\n      return (0, entityv2_1.AlpacaSnapshotV2)(Object.assign({\n        symbol: key\n      }, val));\n    });\n    return result;\n  });\n}\n\nexports.getSnapshots = getSnapshots;\n\nfunction getCryptoTrades(symbol, options, config) {\n  return __asyncGenerator(this, arguments, function* getCryptoTrades_1() {\n    var e_10, _a;\n\n    const cryptoTrades = getDataV2(TYPE.TRADES, `/v1beta1/crypto/${symbol}/trades`, options, config);\n\n    try {\n      for (var cryptoTrades_1 = __asyncValues(cryptoTrades), cryptoTrades_1_1; cryptoTrades_1_1 = yield __await(cryptoTrades_1.next()), !cryptoTrades_1_1.done;) {\n        const t = cryptoTrades_1_1.value;\n        yield yield __await((0, entityv2_1.AlpacaCryptoTrade)(Object.assign({\n          S: symbol\n        }, t)));\n      }\n    } catch (e_10_1) {\n      e_10 = {\n        error: e_10_1\n      };\n    } finally {\n      try {\n        if (cryptoTrades_1_1 && !cryptoTrades_1_1.done && (_a = cryptoTrades_1.return)) yield __await(_a.call(cryptoTrades_1));\n      } finally {\n        if (e_10) throw e_10.error;\n      }\n    }\n  });\n}\n\nexports.getCryptoTrades = getCryptoTrades;\n\nfunction getCryptoQuotes(symbol, options, config) {\n  return __asyncGenerator(this, arguments, function* getCryptoQuotes_1() {\n    var e_11, _a;\n\n    const cryptoQuotes = getDataV2(TYPE.QUOTES, `/v1beta1/crypto/${symbol}/quotes`, options, config);\n\n    try {\n      for (var cryptoQuotes_1 = __asyncValues(cryptoQuotes), cryptoQuotes_1_1; cryptoQuotes_1_1 = yield __await(cryptoQuotes_1.next()), !cryptoQuotes_1_1.done;) {\n        const q = cryptoQuotes_1_1.value;\n        yield yield __await((0, entityv2_1.AlpacaCryptoQuote)(Object.assign({\n          S: symbol\n        }, q)));\n      }\n    } catch (e_11_1) {\n      e_11 = {\n        error: e_11_1\n      };\n    } finally {\n      try {\n        if (cryptoQuotes_1_1 && !cryptoQuotes_1_1.done && (_a = cryptoQuotes_1.return)) yield __await(_a.call(cryptoQuotes_1));\n      } finally {\n        if (e_11) throw e_11.error;\n      }\n    }\n  });\n}\n\nexports.getCryptoQuotes = getCryptoQuotes;\n\nfunction getCryptoBars(symbol, options, config) {\n  return __asyncGenerator(this, arguments, function* getCryptoBars_1() {\n    var e_12, _a;\n\n    const cryptoBars = getDataV2(TYPE.BARS, `/v1beta1/crypto/${symbol}/bars`, options, config);\n\n    try {\n      for (var cryptoBars_1 = __asyncValues(cryptoBars), cryptoBars_1_1; cryptoBars_1_1 = yield __await(cryptoBars_1.next()), !cryptoBars_1_1.done;) {\n        const b = cryptoBars_1_1.value;\n        yield yield __await((0, entityv2_1.AlpacaCryptoBar)(Object.assign({\n          S: symbol\n        }, b)));\n      }\n    } catch (e_12_1) {\n      e_12 = {\n        error: e_12_1\n      };\n    } finally {\n      try {\n        if (cryptoBars_1_1 && !cryptoBars_1_1.done && (_a = cryptoBars_1.return)) yield __await(_a.call(cryptoBars_1));\n      } finally {\n        if (e_12) throw e_12.error;\n      }\n    }\n  });\n}\n\nexports.getCryptoBars = getCryptoBars;\n\nfunction getLatestCryptoBar(symbol, options, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/bars/latest`, options, config);\n    return (0, entityv2_1.AlpacaCryptoBar)(Object.assign({\n      S: resp.data.symbol\n    }, resp.data.bar));\n  });\n}\n\nexports.getLatestCryptoBar = getLatestCryptoBar;\n\nfunction getLatestCryptoBars(symbols, options, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const params = Object.assign(Object.assign({}, options), {\n      symbols: symbols.join(\",\")\n    });\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/bars/latest`, params, config);\n    const multiLatestCryptoBars = resp.data.bars;\n    const result = new Map();\n\n    for (const symbol in multiLatestCryptoBars) {\n      const bar = multiLatestCryptoBars[symbol];\n      result.set(symbol, (0, entityv2_1.AlpacaCryptoBar)(bar));\n    }\n\n    return result;\n  });\n}\n\nexports.getLatestCryptoBars = getLatestCryptoBars;\n\nfunction getLatestCryptoTrade(symbol, options, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/trades/latest`, options, config);\n    return (0, entityv2_1.AlpacaCryptoTrade)(Object.assign({\n      S: resp.data.symbol\n    }, resp.data.trade));\n  });\n}\n\nexports.getLatestCryptoTrade = getLatestCryptoTrade;\n\nfunction getLatestCryptoTrades(symbols, options, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const params = Object.assign(Object.assign({}, options), {\n      symbols: symbols.join(\",\")\n    });\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/trades/latest`, params, config);\n    const multiLatestCryptoTrades = resp.data.trades;\n    const result = new Map();\n\n    for (const symbol in multiLatestCryptoTrades) {\n      const trade = multiLatestCryptoTrades[symbol];\n      result.set(symbol, (0, entityv2_1.AlpacaCryptoTrade)(trade));\n    }\n\n    return result;\n  });\n}\n\nexports.getLatestCryptoTrades = getLatestCryptoTrades;\n\nfunction getLatestCryptoQuote(symbol, options, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/quotes/latest`, options, config);\n    return (0, entityv2_1.AlpacaCryptoQuote)(Object.assign({\n      S: resp.data.symbol\n    }, resp.data.quote));\n  });\n}\n\nexports.getLatestCryptoQuote = getLatestCryptoQuote;\n\nfunction getLatestCryptoQuotes(symbols, options, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const params = Object.assign(Object.assign({}, options), {\n      symbols: symbols.join(\",\")\n    });\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/quotes/latest`, params, config);\n    const multiLatestCryptoQuotes = resp.data.quotes;\n    const result = new Map();\n\n    for (const symbol in multiLatestCryptoQuotes) {\n      const quote = multiLatestCryptoQuotes[symbol];\n      result.set(symbol, (0, entityv2_1.AlpacaCryptoQuote)(quote));\n    }\n\n    return result;\n  });\n}\n\nexports.getLatestCryptoQuotes = getLatestCryptoQuotes;\n\nfunction getLatestCryptoXBBO(symbol, options, config) {\n  var _a;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    const params = {\n      exchanges: (_a = options.exchanges) === null || _a === void 0 ? void 0 : _a.join(\",\")\n    };\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/xbbo/latest`, params, config);\n    return (0, entityv2_1.AlpacaCryptoXBBO)(Object.assign({\n      S: resp.data.symbol\n    }, resp.data.xbbo));\n  });\n}\n\nexports.getLatestCryptoXBBO = getLatestCryptoXBBO;\n\nfunction getLatestCryptoXBBOs(symbols, options, config) {\n  var _a;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    const params = {\n      exchanges: (_a = options.exchanges) === null || _a === void 0 ? void 0 : _a.join(\",\"),\n      symbols: symbols.join(\",\")\n    };\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/xbbos/latest`, params, config);\n    const result = new Map();\n    const multiLatestCryptoXBBOs = resp.data.xbbos;\n\n    for (const symbol in multiLatestCryptoXBBOs) {\n      const xbbo = multiLatestCryptoXBBOs[symbol];\n      result.set(symbol, (0, entityv2_1.AlpacaCryptoXBBO)(xbbo));\n    }\n\n    return result;\n  });\n}\n\nexports.getLatestCryptoXBBOs = getLatestCryptoXBBOs;\n\nfunction getCryptoSnapshot(symbol, options, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/snapshot`, options, config);\n    return (0, entityv2_1.AlpacaCryptoSnapshot)(resp.data);\n  });\n}\n\nexports.getCryptoSnapshot = getCryptoSnapshot;\n\nfunction getCryptoSnapshots(symbols, options, config) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const params = Object.assign(Object.assign({}, options), {\n      symbols: symbols.join(\",\")\n    });\n    const resp = yield dataV2HttpRequest(`/v1beta1/crypto/snapshots`, params, config);\n    const snapshots = resp.data.snapshots;\n    const result = new Map();\n\n    for (const symbol in snapshots) {\n      const snapshot = snapshots[symbol];\n      result.set(symbol, (0, entityv2_1.AlpacaCryptoSnapshot)(snapshot));\n    }\n\n    return result;\n  });\n}\n\nexports.getCryptoSnapshots = getCryptoSnapshots;\nvar Sort;\n\n(function (Sort) {\n  Sort[\"ASC\"] = \"asc\";\n  Sort[\"DESC\"] = \"desc\";\n})(Sort = exports.Sort || (exports.Sort = {}));\n\nfunction getNewsParams(options) {\n  var _a;\n\n  const query = {};\n  query.symbols = ((_a = options.symbols) === null || _a === void 0 ? void 0 : _a.length) > 0 ? options.symbols.join(\",\") : null;\n  query.start = options.start;\n  query.end = options.end;\n  query.sort = options.sort;\n  query.includeContent = options.includeContent;\n  query.excludeContentless = options.excludeContentless;\n  return query;\n}\n\nfunction getNews(options, config) {\n  var _a;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    if (options.totalLimit && options.totalLimit < 0) {\n      throw new Error(\"negative total limit\");\n    }\n\n    if (options.pageLimit && options.pageLimit < 0) {\n      throw new Error(\"negative page limit\");\n    }\n\n    let pageToken = null;\n    let received = 0;\n    const pageLimit = options.pageLimit ? Math.min(options.pageLimit, V2_NEWS_MAX_LIMIT) : V2_NEWS_MAX_LIMIT;\n    delete options.pageLimit;\n    const totalLimit = (_a = options.totalLimit) !== null && _a !== void 0 ? _a : 10;\n    const result = [];\n    const params = getNewsParams(options);\n    let limit;\n\n    for (;;) {\n      limit = getQueryLimit(totalLimit, pageLimit, received);\n\n      if (limit < 1) {\n        break;\n      }\n\n      const resp = yield dataV2HttpRequest(\"/v1beta1/news\", Object.assign(Object.assign({}, params), {\n        limit: limit,\n        page_token: pageToken\n      }), config);\n      resp.data.news.forEach(n => result.push((0, entityv2_1.AlpacaNews)(n)));\n      received += resp.data.news.length;\n      pageToken = resp.data.next_page_token;\n\n      if (!pageToken) {\n        break;\n      }\n    }\n\n    return result;\n  });\n}\n\nexports.getNews = getNews;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__await","v","__asyncGenerator","Symbol","asyncIterator","TypeError","g","i","q","verb","n","a","b","push","resume","settle","r","fulfill","f","shift","length","__asyncValues","o","m","call","__values","iterator","d","__importDefault","mod","__esModule","Object","defineProperty","exports","getNews","Sort","getCryptoSnapshots","getCryptoSnapshot","getLatestCryptoXBBOs","getLatestCryptoXBBO","getLatestCryptoQuotes","getLatestCryptoQuote","getLatestCryptoTrades","getLatestCryptoTrade","getLatestCryptoBars","getLatestCryptoBar","getCryptoBars","getCryptoQuotes","getCryptoTrades","getSnapshots","getSnapshot","getLatestBars","getLatestBar","getLatestQuotes","getLatestQuote","getLatestTrades","getLatestTrade","getMultiBarsAsync","getMultiBars","getBars","getMultiQuotesAsync","getMultiQuotes","getQuotes","getMultiTradesAsync","getMultiTrades","getTrades","getMultiDataV2","getDataV2","dataV2HttpRequest","TYPE","Adjustment","axios_1","require","entityv2_1","V2_MAX_LIMIT","V2_NEWS_MAX_LIMIT","url","queryParams","config","dataBaseUrl","keyId","secretKey","oauth","headers","default","get","params","catch","err","Error","response","status","data","message","getQueryLimit","totalLimit","pageLimit","received","limit","remaining","endpoint","path","options","_a","arguments","getDataV2_1","pageToken","Math","min","resp","assign","page_token","items","item","next_page_token","symbols","getMultiDataV2_1","join","symbol","getTrades_1","e_1","trades","TRADES","trades_1","trades_1_1","trade","AlpacaTradeV2","e_1_1","error","return","e_2","multiTrades","Map","multiTrades_1","multiTrades_1_1","t","Array","set","e_2_1","getMultiTradesAsync_1","e_3","multiTrades_2","multiTrades_2_1","S","e_3_1","getQuotes_1","e_4","quotes","QUOTES","quotes_1","quotes_1_1","quote","AlpacaQuoteV2","e_4_1","e_5","multiQuotes","multiQuotes_1","multiQuotes_1_1","e_5_1","getMultiQuotesAsync_1","e_6","multiQuotes_2","multiQuotes_2_1","e_6_1","getBars_1","e_7","bars","BARS","_b","_c","bar","AlpacaBarV2","e_7_1","e_8","multiBars","multiBars_1","multiBars_1_1","e_8_1","getMultiBarsAsync_1","e_9","multiBars_2","multiBars_2_1","e_9_1","multiLatestTrades","multiLatestTradesResp","multiLatestQuotes","multiLatestQuotesResp","multiLatestBars","multiLatestBarsResp","AlpacaSnapshotV2","entries","map","key","val","getCryptoTrades_1","e_10","cryptoTrades","cryptoTrades_1","cryptoTrades_1_1","AlpacaCryptoTrade","e_10_1","getCryptoQuotes_1","e_11","cryptoQuotes","cryptoQuotes_1","cryptoQuotes_1_1","AlpacaCryptoQuote","e_11_1","getCryptoBars_1","e_12","cryptoBars","cryptoBars_1","cryptoBars_1_1","AlpacaCryptoBar","e_12_1","multiLatestCryptoBars","multiLatestCryptoTrades","multiLatestCryptoQuotes","exchanges","AlpacaCryptoXBBO","xbbo","multiLatestCryptoXBBOs","xbbos","AlpacaCryptoSnapshot","snapshots","snapshot","getNewsParams","query","start","end","sort","includeContent","excludeContentless","news","forEach","AlpacaNews"],"sources":["/Users/matthewbrown/Desktop/code/Summer/Stock-Portfolio/stock-portfolio/node_modules/@alpacahq/alpaca-trade-api/dist/resources/datav2/rest_v2.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getNews = exports.Sort = exports.getCryptoSnapshots = exports.getCryptoSnapshot = exports.getLatestCryptoXBBOs = exports.getLatestCryptoXBBO = exports.getLatestCryptoQuotes = exports.getLatestCryptoQuote = exports.getLatestCryptoTrades = exports.getLatestCryptoTrade = exports.getLatestCryptoBars = exports.getLatestCryptoBar = exports.getCryptoBars = exports.getCryptoQuotes = exports.getCryptoTrades = exports.getSnapshots = exports.getSnapshot = exports.getLatestBars = exports.getLatestBar = exports.getLatestQuotes = exports.getLatestQuote = exports.getLatestTrades = exports.getLatestTrade = exports.getMultiBarsAsync = exports.getMultiBars = exports.getBars = exports.getMultiQuotesAsync = exports.getMultiQuotes = exports.getQuotes = exports.getMultiTradesAsync = exports.getMultiTrades = exports.getTrades = exports.getMultiDataV2 = exports.getDataV2 = exports.dataV2HttpRequest = exports.TYPE = exports.Adjustment = void 0;\nconst axios_1 = __importDefault(require(\"axios\"));\nconst entityv2_1 = require(\"./entityv2\");\n// Number of data points to return.\nconst V2_MAX_LIMIT = 10000;\nconst V2_NEWS_MAX_LIMIT = 50;\nvar Adjustment;\n(function (Adjustment) {\n    Adjustment[\"RAW\"] = \"raw\";\n    Adjustment[\"DIVIDEND\"] = \"dividend\";\n    Adjustment[\"SPLIT\"] = \"split\";\n    Adjustment[\"ALL\"] = \"all\";\n})(Adjustment = exports.Adjustment || (exports.Adjustment = {}));\nvar TYPE;\n(function (TYPE) {\n    TYPE[\"TRADES\"] = \"trades\";\n    TYPE[\"QUOTES\"] = \"quotes\";\n    TYPE[\"BARS\"] = \"bars\";\n})(TYPE = exports.TYPE || (exports.TYPE = {}));\nfunction dataV2HttpRequest(url, queryParams, config) {\n    const { dataBaseUrl, keyId, secretKey, oauth } = config;\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        \"Accept-Encoding\": \"gzip\",\n    };\n    if (oauth == \"\") {\n        headers[\"APCA-API-KEY-ID\"] = keyId;\n        headers[\"APCA-API-SECRET-KEY\"] = secretKey;\n    }\n    else {\n        headers[\"Authorization\"] = \"Bearer \" + oauth;\n    }\n    return axios_1.default\n        .get(`${dataBaseUrl}${url}`, {\n        params: queryParams,\n        headers: headers,\n    })\n        .catch((err) => {\n        throw new Error(`code: ${err.response.status}, message: ${err.response.data.message}`);\n    });\n}\nexports.dataV2HttpRequest = dataV2HttpRequest;\nfunction getQueryLimit(totalLimit, pageLimit, received) {\n    let limit = 0;\n    if (pageLimit !== 0) {\n        limit = pageLimit;\n    }\n    if (totalLimit !== 0) {\n        const remaining = totalLimit - received;\n        if (remaining <= 0) {\n            // this should never happen\n            return -1;\n        }\n        if (limit == 0 || limit > remaining) {\n            limit = remaining;\n        }\n    }\n    return limit;\n}\nfunction getDataV2(endpoint, path, options, config) {\n    var _a;\n    return __asyncGenerator(this, arguments, function* getDataV2_1() {\n        let pageToken = null;\n        let received = 0;\n        const pageLimit = options.pageLimit\n            ? Math.min(options.pageLimit, V2_MAX_LIMIT)\n            : V2_MAX_LIMIT;\n        delete options.pageLimit;\n        options.limit = (_a = options.limit) !== null && _a !== void 0 ? _a : 0;\n        while (options.limit > received || options.limit === 0) {\n            let limit;\n            if (options.limit !== 0) {\n                limit = getQueryLimit(options.limit, pageLimit, received);\n                if (limit == -1) {\n                    break;\n                }\n            }\n            else {\n                limit = null;\n            }\n            const resp = yield __await(dataV2HttpRequest(path, Object.assign(Object.assign({}, options), { limit, page_token: pageToken }), config));\n            const items = resp.data[endpoint] || [];\n            for (const item of items) {\n                yield yield __await(item);\n            }\n            received += items.length;\n            pageToken = resp.data.next_page_token;\n            if (!pageToken) {\n                break;\n            }\n        }\n    });\n}\nexports.getDataV2 = getDataV2;\nfunction getMultiDataV2(symbols, endpoint, options, config) {\n    var _a;\n    return __asyncGenerator(this, arguments, function* getMultiDataV2_1() {\n        let pageToken = null;\n        let received = 0;\n        const pageLimit = options.pageLimit\n            ? Math.min(options.pageLimit, V2_MAX_LIMIT)\n            : V2_MAX_LIMIT;\n        delete options.pageLimit;\n        options.limit = (_a = options.limit) !== null && _a !== void 0 ? _a : 0;\n        while (options.limit > received || options.limit === 0) {\n            let limit;\n            if (options.limit !== 0) {\n                limit = getQueryLimit(options.limit, pageLimit, received);\n                if (limit == -1) {\n                    break;\n                }\n            }\n            else {\n                limit = null;\n            }\n            const params = Object.assign(Object.assign({}, options), { symbols: symbols.join(\",\"), limit: limit, page_token: pageToken });\n            const resp = yield __await(dataV2HttpRequest(`/v2/stocks/${endpoint}`, params, config));\n            const items = resp.data[endpoint];\n            for (const symbol in items) {\n                for (const data of items[symbol]) {\n                    received++;\n                    yield yield __await({ symbol: symbol, data: data });\n                }\n            }\n            pageToken = resp.data.next_page_token;\n            if (!pageToken) {\n                break;\n            }\n        }\n    });\n}\nexports.getMultiDataV2 = getMultiDataV2;\nfunction getTrades(symbol, options, config) {\n    return __asyncGenerator(this, arguments, function* getTrades_1() {\n        var e_1, _a;\n        const trades = getDataV2(TYPE.TRADES, `/v2/stocks/${symbol}/${TYPE.TRADES}`, options, config);\n        try {\n            for (var trades_1 = __asyncValues(trades), trades_1_1; trades_1_1 = yield __await(trades_1.next()), !trades_1_1.done;) {\n                const trade = trades_1_1.value;\n                yield yield __await((0, entityv2_1.AlpacaTradeV2)(trade));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (trades_1_1 && !trades_1_1.done && (_a = trades_1.return)) yield __await(_a.call(trades_1));\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    });\n}\nexports.getTrades = getTrades;\nfunction getMultiTrades(symbols, options, config) {\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const multiTrades = getMultiTradesAsync(symbols, options, config);\n        const trades = new Map();\n        try {\n            for (var multiTrades_1 = __asyncValues(multiTrades), multiTrades_1_1; multiTrades_1_1 = yield multiTrades_1.next(), !multiTrades_1_1.done;) {\n                const t = multiTrades_1_1.value;\n                const items = trades.get(t.Symbol) || new Array();\n                trades.set(t.Symbol, [...items, t]);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (multiTrades_1_1 && !multiTrades_1_1.done && (_a = multiTrades_1.return)) yield _a.call(multiTrades_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return trades;\n    });\n}\nexports.getMultiTrades = getMultiTrades;\nfunction getMultiTradesAsync(symbols, options, config) {\n    return __asyncGenerator(this, arguments, function* getMultiTradesAsync_1() {\n        var e_3, _a;\n        const multiTrades = getMultiDataV2(symbols, TYPE.TRADES, options, config);\n        try {\n            for (var multiTrades_2 = __asyncValues(multiTrades), multiTrades_2_1; multiTrades_2_1 = yield __await(multiTrades_2.next()), !multiTrades_2_1.done;) {\n                const t = multiTrades_2_1.value;\n                t.data = Object.assign(Object.assign({}, t.data), { S: t.symbol });\n                yield yield __await((0, entityv2_1.AlpacaTradeV2)(t.data));\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (multiTrades_2_1 && !multiTrades_2_1.done && (_a = multiTrades_2.return)) yield __await(_a.call(multiTrades_2));\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    });\n}\nexports.getMultiTradesAsync = getMultiTradesAsync;\nfunction getQuotes(symbol, options, config) {\n    return __asyncGenerator(this, arguments, function* getQuotes_1() {\n        var e_4, _a;\n        const quotes = getDataV2(TYPE.QUOTES, `/v2/stocks/${symbol}/${TYPE.QUOTES}`, options, config);\n        try {\n            for (var quotes_1 = __asyncValues(quotes), quotes_1_1; quotes_1_1 = yield __await(quotes_1.next()), !quotes_1_1.done;) {\n                const quote = quotes_1_1.value;\n                yield yield __await((0, entityv2_1.AlpacaQuoteV2)(quote));\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (quotes_1_1 && !quotes_1_1.done && (_a = quotes_1.return)) yield __await(_a.call(quotes_1));\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    });\n}\nexports.getQuotes = getQuotes;\nfunction getMultiQuotes(symbols, options, config) {\n    var e_5, _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const multiQuotes = getMultiQuotesAsync(symbols, options, config);\n        const quotes = new Map();\n        try {\n            for (var multiQuotes_1 = __asyncValues(multiQuotes), multiQuotes_1_1; multiQuotes_1_1 = yield multiQuotes_1.next(), !multiQuotes_1_1.done;) {\n                const q = multiQuotes_1_1.value;\n                const items = quotes.get(q.Symbol) || new Array();\n                quotes.set(q.Symbol, [...items, q]);\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (multiQuotes_1_1 && !multiQuotes_1_1.done && (_a = multiQuotes_1.return)) yield _a.call(multiQuotes_1);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return quotes;\n    });\n}\nexports.getMultiQuotes = getMultiQuotes;\nfunction getMultiQuotesAsync(symbols, options, config) {\n    return __asyncGenerator(this, arguments, function* getMultiQuotesAsync_1() {\n        var e_6, _a;\n        const multiQuotes = getMultiDataV2(symbols, TYPE.QUOTES, options, config);\n        try {\n            for (var multiQuotes_2 = __asyncValues(multiQuotes), multiQuotes_2_1; multiQuotes_2_1 = yield __await(multiQuotes_2.next()), !multiQuotes_2_1.done;) {\n                const q = multiQuotes_2_1.value;\n                q.data = Object.assign(Object.assign({}, q.data), { S: q.symbol });\n                yield yield __await((0, entityv2_1.AlpacaQuoteV2)(q.data));\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (multiQuotes_2_1 && !multiQuotes_2_1.done && (_a = multiQuotes_2.return)) yield __await(_a.call(multiQuotes_2));\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n    });\n}\nexports.getMultiQuotesAsync = getMultiQuotesAsync;\nfunction getBars(symbol, options, config) {\n    return __asyncGenerator(this, arguments, function* getBars_1() {\n        var e_7, _a;\n        const bars = getDataV2(TYPE.BARS, `/v2/stocks/${symbol}/${TYPE.BARS}`, options, config);\n        try {\n            for (var _b = __asyncValues(bars || []), _c; _c = yield __await(_b.next()), !_c.done;) {\n                const bar = _c.value;\n                yield yield __await((0, entityv2_1.AlpacaBarV2)(bar));\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) yield __await(_a.call(_b));\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n    });\n}\nexports.getBars = getBars;\nfunction getMultiBars(symbols, options, config) {\n    var e_8, _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const multiBars = getMultiBarsAsync(symbols, options, config);\n        const bars = new Map();\n        try {\n            for (var multiBars_1 = __asyncValues(multiBars), multiBars_1_1; multiBars_1_1 = yield multiBars_1.next(), !multiBars_1_1.done;) {\n                const b = multiBars_1_1.value;\n                const items = bars.get(b.Symbol) || new Array();\n                bars.set(b.Symbol, [...items, b]);\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (multiBars_1_1 && !multiBars_1_1.done && (_a = multiBars_1.return)) yield _a.call(multiBars_1);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        return bars;\n    });\n}\nexports.getMultiBars = getMultiBars;\nfunction getMultiBarsAsync(symbols, options, config) {\n    return __asyncGenerator(this, arguments, function* getMultiBarsAsync_1() {\n        var e_9, _a;\n        const multiBars = getMultiDataV2(symbols, TYPE.BARS, options, config);\n        try {\n            for (var multiBars_2 = __asyncValues(multiBars), multiBars_2_1; multiBars_2_1 = yield __await(multiBars_2.next()), !multiBars_2_1.done;) {\n                const b = multiBars_2_1.value;\n                b.data = Object.assign(Object.assign({}, b.data), { S: b.symbol });\n                yield yield __await((0, entityv2_1.AlpacaBarV2)(b.data));\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (multiBars_2_1 && !multiBars_2_1.done && (_a = multiBars_2.return)) yield __await(_a.call(multiBars_2));\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n    });\n}\nexports.getMultiBarsAsync = getMultiBarsAsync;\nfunction getLatestTrade(symbol, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v2/stocks/${symbol}/trades/latest`, {}, config);\n        return (0, entityv2_1.AlpacaTradeV2)(resp.data.trade);\n    });\n}\nexports.getLatestTrade = getLatestTrade;\nfunction getLatestTrades(symbols, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v2/stocks/${TYPE.TRADES}/latest`, { symbols: symbols.join(\",\") }, config);\n        const multiLatestTrades = resp.data.trades;\n        const multiLatestTradesResp = new Map();\n        for (const symbol in multiLatestTrades) {\n            multiLatestTradesResp.set(symbol, (0, entityv2_1.AlpacaTradeV2)(Object.assign({ S: symbol }, multiLatestTrades[symbol])));\n        }\n        return multiLatestTradesResp;\n    });\n}\nexports.getLatestTrades = getLatestTrades;\nfunction getLatestQuote(symbol, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v2/stocks/${symbol}/quotes/latest`, {}, config);\n        return (0, entityv2_1.AlpacaQuoteV2)(resp.data.quote);\n    });\n}\nexports.getLatestQuote = getLatestQuote;\nfunction getLatestQuotes(symbols, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v2/stocks/${TYPE.QUOTES}/latest`, { symbols: symbols.join(\",\") }, config);\n        const multiLatestQuotes = resp.data.quotes;\n        const multiLatestQuotesResp = new Map();\n        for (const symbol in multiLatestQuotes) {\n            multiLatestQuotesResp.set(symbol, (0, entityv2_1.AlpacaQuoteV2)(Object.assign({ S: symbol }, multiLatestQuotes[symbol])));\n        }\n        return multiLatestQuotesResp;\n    });\n}\nexports.getLatestQuotes = getLatestQuotes;\nfunction getLatestBar(symbol, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v2/stocks/${symbol}/bars/latest`, {}, config);\n        return (0, entityv2_1.AlpacaBarV2)(resp.data.bar);\n    });\n}\nexports.getLatestBar = getLatestBar;\nfunction getLatestBars(symbols, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v2/stocks/${TYPE.BARS}/latest`, { symbols: symbols.join(\",\") }, config);\n        const multiLatestBars = resp.data.bars;\n        const multiLatestBarsResp = new Map();\n        for (const symbol in multiLatestBars) {\n            multiLatestBarsResp.set(symbol, (0, entityv2_1.AlpacaBarV2)(Object.assign({ S: symbol }, multiLatestBars[symbol])));\n        }\n        return multiLatestBarsResp;\n    });\n}\nexports.getLatestBars = getLatestBars;\nfunction getSnapshot(symbol, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v2/stocks/${symbol}/snapshot`, {}, config);\n        return (0, entityv2_1.AlpacaSnapshotV2)(resp.data);\n    });\n}\nexports.getSnapshot = getSnapshot;\nfunction getSnapshots(symbols, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v2/stocks/snapshots?symbols=${symbols.join(\",\")}`, {}, config);\n        const result = Object.entries(resp.data).map(([key, val]) => {\n            return (0, entityv2_1.AlpacaSnapshotV2)(Object.assign({ symbol: key }, val));\n        });\n        return result;\n    });\n}\nexports.getSnapshots = getSnapshots;\nfunction getCryptoTrades(symbol, options, config) {\n    return __asyncGenerator(this, arguments, function* getCryptoTrades_1() {\n        var e_10, _a;\n        const cryptoTrades = getDataV2(TYPE.TRADES, `/v1beta1/crypto/${symbol}/trades`, options, config);\n        try {\n            for (var cryptoTrades_1 = __asyncValues(cryptoTrades), cryptoTrades_1_1; cryptoTrades_1_1 = yield __await(cryptoTrades_1.next()), !cryptoTrades_1_1.done;) {\n                const t = cryptoTrades_1_1.value;\n                yield yield __await((0, entityv2_1.AlpacaCryptoTrade)(Object.assign({ S: symbol }, t)));\n            }\n        }\n        catch (e_10_1) { e_10 = { error: e_10_1 }; }\n        finally {\n            try {\n                if (cryptoTrades_1_1 && !cryptoTrades_1_1.done && (_a = cryptoTrades_1.return)) yield __await(_a.call(cryptoTrades_1));\n            }\n            finally { if (e_10) throw e_10.error; }\n        }\n    });\n}\nexports.getCryptoTrades = getCryptoTrades;\nfunction getCryptoQuotes(symbol, options, config) {\n    return __asyncGenerator(this, arguments, function* getCryptoQuotes_1() {\n        var e_11, _a;\n        const cryptoQuotes = getDataV2(TYPE.QUOTES, `/v1beta1/crypto/${symbol}/quotes`, options, config);\n        try {\n            for (var cryptoQuotes_1 = __asyncValues(cryptoQuotes), cryptoQuotes_1_1; cryptoQuotes_1_1 = yield __await(cryptoQuotes_1.next()), !cryptoQuotes_1_1.done;) {\n                const q = cryptoQuotes_1_1.value;\n                yield yield __await((0, entityv2_1.AlpacaCryptoQuote)(Object.assign({ S: symbol }, q)));\n            }\n        }\n        catch (e_11_1) { e_11 = { error: e_11_1 }; }\n        finally {\n            try {\n                if (cryptoQuotes_1_1 && !cryptoQuotes_1_1.done && (_a = cryptoQuotes_1.return)) yield __await(_a.call(cryptoQuotes_1));\n            }\n            finally { if (e_11) throw e_11.error; }\n        }\n    });\n}\nexports.getCryptoQuotes = getCryptoQuotes;\nfunction getCryptoBars(symbol, options, config) {\n    return __asyncGenerator(this, arguments, function* getCryptoBars_1() {\n        var e_12, _a;\n        const cryptoBars = getDataV2(TYPE.BARS, `/v1beta1/crypto/${symbol}/bars`, options, config);\n        try {\n            for (var cryptoBars_1 = __asyncValues(cryptoBars), cryptoBars_1_1; cryptoBars_1_1 = yield __await(cryptoBars_1.next()), !cryptoBars_1_1.done;) {\n                const b = cryptoBars_1_1.value;\n                yield yield __await((0, entityv2_1.AlpacaCryptoBar)(Object.assign({ S: symbol }, b)));\n            }\n        }\n        catch (e_12_1) { e_12 = { error: e_12_1 }; }\n        finally {\n            try {\n                if (cryptoBars_1_1 && !cryptoBars_1_1.done && (_a = cryptoBars_1.return)) yield __await(_a.call(cryptoBars_1));\n            }\n            finally { if (e_12) throw e_12.error; }\n        }\n    });\n}\nexports.getCryptoBars = getCryptoBars;\nfunction getLatestCryptoBar(symbol, options, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/bars/latest`, options, config);\n        return (0, entityv2_1.AlpacaCryptoBar)(Object.assign({ S: resp.data.symbol }, resp.data.bar));\n    });\n}\nexports.getLatestCryptoBar = getLatestCryptoBar;\nfunction getLatestCryptoBars(symbols, options, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const params = Object.assign(Object.assign({}, options), { symbols: symbols.join(\",\") });\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/bars/latest`, params, config);\n        const multiLatestCryptoBars = resp.data.bars;\n        const result = new Map();\n        for (const symbol in multiLatestCryptoBars) {\n            const bar = multiLatestCryptoBars[symbol];\n            result.set(symbol, (0, entityv2_1.AlpacaCryptoBar)(bar));\n        }\n        return result;\n    });\n}\nexports.getLatestCryptoBars = getLatestCryptoBars;\nfunction getLatestCryptoTrade(symbol, options, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/trades/latest`, options, config);\n        return (0, entityv2_1.AlpacaCryptoTrade)(Object.assign({ S: resp.data.symbol }, resp.data.trade));\n    });\n}\nexports.getLatestCryptoTrade = getLatestCryptoTrade;\nfunction getLatestCryptoTrades(symbols, options, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const params = Object.assign(Object.assign({}, options), { symbols: symbols.join(\",\") });\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/trades/latest`, params, config);\n        const multiLatestCryptoTrades = resp.data.trades;\n        const result = new Map();\n        for (const symbol in multiLatestCryptoTrades) {\n            const trade = multiLatestCryptoTrades[symbol];\n            result.set(symbol, (0, entityv2_1.AlpacaCryptoTrade)(trade));\n        }\n        return result;\n    });\n}\nexports.getLatestCryptoTrades = getLatestCryptoTrades;\nfunction getLatestCryptoQuote(symbol, options, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/quotes/latest`, options, config);\n        return (0, entityv2_1.AlpacaCryptoQuote)(Object.assign({ S: resp.data.symbol }, resp.data.quote));\n    });\n}\nexports.getLatestCryptoQuote = getLatestCryptoQuote;\nfunction getLatestCryptoQuotes(symbols, options, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const params = Object.assign(Object.assign({}, options), { symbols: symbols.join(\",\") });\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/quotes/latest`, params, config);\n        const multiLatestCryptoQuotes = resp.data.quotes;\n        const result = new Map();\n        for (const symbol in multiLatestCryptoQuotes) {\n            const quote = multiLatestCryptoQuotes[symbol];\n            result.set(symbol, (0, entityv2_1.AlpacaCryptoQuote)(quote));\n        }\n        return result;\n    });\n}\nexports.getLatestCryptoQuotes = getLatestCryptoQuotes;\nfunction getLatestCryptoXBBO(symbol, options, config) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const params = { exchanges: (_a = options.exchanges) === null || _a === void 0 ? void 0 : _a.join(\",\") };\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/xbbo/latest`, params, config);\n        return (0, entityv2_1.AlpacaCryptoXBBO)(Object.assign({ S: resp.data.symbol }, resp.data.xbbo));\n    });\n}\nexports.getLatestCryptoXBBO = getLatestCryptoXBBO;\nfunction getLatestCryptoXBBOs(symbols, options, config) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const params = {\n            exchanges: (_a = options.exchanges) === null || _a === void 0 ? void 0 : _a.join(\",\"),\n            symbols: symbols.join(\",\"),\n        };\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/xbbos/latest`, params, config);\n        const result = new Map();\n        const multiLatestCryptoXBBOs = resp.data.xbbos;\n        for (const symbol in multiLatestCryptoXBBOs) {\n            const xbbo = multiLatestCryptoXBBOs[symbol];\n            result.set(symbol, (0, entityv2_1.AlpacaCryptoXBBO)(xbbo));\n        }\n        return result;\n    });\n}\nexports.getLatestCryptoXBBOs = getLatestCryptoXBBOs;\nfunction getCryptoSnapshot(symbol, options, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/${symbol}/snapshot`, options, config);\n        return (0, entityv2_1.AlpacaCryptoSnapshot)(resp.data);\n    });\n}\nexports.getCryptoSnapshot = getCryptoSnapshot;\nfunction getCryptoSnapshots(symbols, options, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const params = Object.assign(Object.assign({}, options), { symbols: symbols.join(\",\") });\n        const resp = yield dataV2HttpRequest(`/v1beta1/crypto/snapshots`, params, config);\n        const snapshots = resp.data.snapshots;\n        const result = new Map();\n        for (const symbol in snapshots) {\n            const snapshot = snapshots[symbol];\n            result.set(symbol, (0, entityv2_1.AlpacaCryptoSnapshot)(snapshot));\n        }\n        return result;\n    });\n}\nexports.getCryptoSnapshots = getCryptoSnapshots;\nvar Sort;\n(function (Sort) {\n    Sort[\"ASC\"] = \"asc\";\n    Sort[\"DESC\"] = \"desc\";\n})(Sort = exports.Sort || (exports.Sort = {}));\nfunction getNewsParams(options) {\n    var _a;\n    const query = {};\n    query.symbols =\n        ((_a = options.symbols) === null || _a === void 0 ? void 0 : _a.length) > 0 ? options.symbols.join(\",\") : null;\n    query.start = options.start;\n    query.end = options.end;\n    query.sort = options.sort;\n    query.includeContent = options.includeContent;\n    query.excludeContentless = options.excludeContentless;\n    return query;\n}\nfunction getNews(options, config) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (options.totalLimit && options.totalLimit < 0) {\n            throw new Error(\"negative total limit\");\n        }\n        if (options.pageLimit && options.pageLimit < 0) {\n            throw new Error(\"negative page limit\");\n        }\n        let pageToken = null;\n        let received = 0;\n        const pageLimit = options.pageLimit\n            ? Math.min(options.pageLimit, V2_NEWS_MAX_LIMIT)\n            : V2_NEWS_MAX_LIMIT;\n        delete options.pageLimit;\n        const totalLimit = (_a = options.totalLimit) !== null && _a !== void 0 ? _a : 10;\n        const result = [];\n        const params = getNewsParams(options);\n        let limit;\n        for (;;) {\n            limit = getQueryLimit(totalLimit, pageLimit, received);\n            if (limit < 1) {\n                break;\n            }\n            const resp = yield dataV2HttpRequest(\"/v1beta1/news\", Object.assign(Object.assign({}, params), { limit: limit, page_token: pageToken }), config);\n            resp.data.news.forEach((n) => result.push((0, entityv2_1.AlpacaNews)(n)));\n            received += resp.data.news.length;\n            pageToken = resp.data.next_page_token;\n            if (!pageToken) {\n                break;\n            }\n        }\n        return result;\n    });\n}\nexports.getNews = getNews;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}